{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\smaha\\\\OneDrive\\\\Desktop\\\\Assignment\\\\apps-master\\\\shopping-cart\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\smaha\\\\OneDrive\\\\Desktop\\\\Assignment\\\\apps-master\\\\shopping-cart\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\smaha\\\\OneDrive\\\\Desktop\\\\Assignment\\\\apps-master\\\\shopping-cart\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\smaha\\\\OneDrive\\\\Desktop\\\\Assignment\\\\apps-master\\\\shopping-cart\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\smaha\\\\OneDrive\\\\Desktop\\\\Assignment\\\\apps-master\\\\shopping-cart\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\smaha\\\\OneDrive\\\\Desktop\\\\Assignment\\\\apps-master\\\\shopping-cart\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\smaha\\\\OneDrive\\\\Desktop\\\\Assignment\\\\apps-master\\\\shopping-cart\\\\src\\\\layout\\\\HomePage.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport cartItemListAction from \"../redux/actions/CartItemList\";\nimport { bindActionCreators } from 'redux';\nimport TopBar from '../core/TopBar';\nimport LocalStorage from '../utils/LocalStorage';\nimport staticData from '../staticdata/StaticData';\nimport Dropdown from '../core/Dropdown';\nimport cartItemHandler from '../handler/CartItemHandler';\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage(props) {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this, props));\n\n    _this.getDropdownCell = function (key, data, id, index) {\n      var me = _assertThisInitialized(_assertThisInitialized(_this));\n\n      return React.createElement(\"div\", {\n        key: index,\n        className: \"cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        data: staticData.getDropDataList(key),\n        value: data,\n        onChange: function onChange(value) {\n          cartItemHandler.updateDataBasedOnKey(id, key, value, function () {\n            me.props.cartItemListAction(LocalStorage.getDataByKey(\"cartItemList\"));\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }));\n    };\n\n    _this.getRow = function (object, keyUnique) {\n      var me = _assertThisInitialized(_assertThisInitialized(_this));\n\n      var cells = [];\n      Object.keys(object).forEach(function (key, index) {\n        var value = object[key];\n        if (key != \"id\") if (isDropdownRequired(key)) cells.push(getCell(value, keyUnique + \"_cell_\" + index));else cells.push(_this.getDropdownCell(key, value, object.id, keyUnique + \"_cell_\" + index));\n      });\n      cells.push(getCell(React.createElement(\"div\", {\n        className: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"options-button\",\n        onClick: function onClick(e) {\n          e.stopPropagation();\n          cartItemHandler.deleteCartItem(object, function () {\n            me.props.cartItemListAction(LocalStorage.getDataByKey(\"cartItemList\"));\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Delete\")), keyUnique + \"_cell_\" + Object.keys(object).length));\n      return React.createElement(\"div\", {\n        key: keyUnique + \"row\",\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, cells);\n    };\n\n    _this.state = {\n      totalCount: 5000\n    };\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      // if(!LocalStorage.getDataByKey(\"cartItemList\"))\n      LocalStorage.setDataByKey(\"cartItemList\", staticData.getCartItemList());\n      this.props.cartItemListAction(LocalStorage.getDataByKey(\"cartItemList\"));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var cartItemList = this.props.cartItemList && this.props.cartItemList.data ? this.props.cartItemList.data : [];\n      var tableHeader = [];\n      var tableRows = [];\n      var keyUnique = 0;\n\n      if (cartItemList && cartItemList.length > 0) {\n        cartItemList.forEach(function (element) {\n          tableRows.push(_this2.getRow(element, keyUnique));\n          keyUnique++;\n        });\n\n        for (var key in cartItemList[0]) {\n          if (key != \"id\") {\n            tableHeader.push(getCell(key, keyUnique + \"header\"));\n            keyUnique++;\n          }\n        }\n\n        tableHeader.push(getCell(\"options\", keyUnique + \"header\"));\n        keyUnique++;\n      }\n\n      return React.createElement(\"div\", {\n        className: \"home-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(TopBar, {\n        title: \"Assignment\",\n        totalPrice: cartItemHandler.getTotalCount(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, tableHeader), tableRows));\n    }\n  }]);\n\n  return HomePage;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(redux) {\n  return {\n    cartItemList: redux.cartItemList\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    cartItemListAction: cartItemListAction\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);\n\nfunction getCell(data, index) {\n  return React.createElement(\"div\", {\n    key: index,\n    className: \"cell\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, data);\n}\n\nfunction isDropdownRequired(key) {\n  return !(key == \"size\" || key == \"color\" || key == \"quantity\");\n}","map":{"version":3,"sources":["C:\\Users\\smaha\\OneDrive\\Desktop\\Assignment\\apps-master\\shopping-cart\\src\\layout\\HomePage.js"],"names":["React","Component","connect","cartItemListAction","bindActionCreators","TopBar","LocalStorage","staticData","Dropdown","cartItemHandler","HomePage","props","getDropdownCell","key","data","id","index","me","getDropDataList","value","updateDataBasedOnKey","getDataByKey","getRow","object","keyUnique","cells","Object","keys","forEach","isDropdownRequired","push","getCell","e","stopPropagation","deleteCartItem","length","state","totalCount","setDataByKey","getCartItemList","cartItemList","tableHeader","tableRows","element","getTotalCount","mapStateToProps","redux","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport cartItemListAction from \"../redux/actions/CartItemList\";\r\nimport { bindActionCreators } from 'redux'\r\n import TopBar from '../core/TopBar';\r\n import LocalStorage from  '../utils/LocalStorage';\r\n import staticData from '../staticdata/StaticData';\r\n import Dropdown from '../core/Dropdown';\r\n \r\n import cartItemHandler from '../handler/CartItemHandler';\r\nclass HomePage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      totalCount:5000\r\n    };\r\n \r\n  }\r\n  componentWillMount(){\r\n\t\t// if(!LocalStorage.getDataByKey(\"cartItemList\"))\r\n\t\t    LocalStorage.setDataByKey(\"cartItemList\",staticData.getCartItemList());\r\n\t\tthis.props.cartItemListAction(LocalStorage.getDataByKey(\"cartItemList\"));\r\n  }\r\n  componentDidMount(){\r\n  }\r\n  componentWillUnmount(){\r\n\t}\r\n\t  getDropdownCell=(key,data,id,index)=>{\r\n\t\t\tvar me=this;\r\n\t\t\treturn(<div key={index} className=\"cell\">\r\n\t\t\t{<Dropdown \r\n\t\t\tdata={staticData.getDropDataList(key)}\r\n\t\t\tvalue={data}\r\n\t\t\tonChange={value => {\r\n\t\t\t\tcartItemHandler.updateDataBasedOnKey(id,key,value,function(){\r\n\t\t\t\t\tme.props.cartItemListAction(LocalStorage.getDataByKey(\"cartItemList\"));\r\n\t\t\t\t});\r\n\t\t\t}}\r\n\t\t\t/>}\r\n\t\t</div>)\r\n\t\t}\r\n\t\t\r\ngetRow=(object,keyUnique)=>{ \r\n\tvar me=this;\r\n\tvar cells=[];\r\n\tObject.keys(object).forEach((key,index)=> {\r\n\t\tlet value = object[key];\r\n\t\tif(key!=\"id\")\r\n\t\tif(isDropdownRequired(key))\r\n\t\t\tcells.push(getCell(value,keyUnique+\"_cell_\"+index));\r\n\t\t\telse\r\n\t\t\tcells.push(this.getDropdownCell(key,value,object.id,keyUnique+\"_cell_\"+index));\r\n\t});\r\n\tcells.push(getCell(\r\n\t    <div className=\"Search\">\r\n\t\t\t\t<span className=\"options-button\" \r\n\t\t\t\tonClick={(e)=>{\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\tcartItemHandler.deleteCartItem(object,function(){\r\n\t\t\t\t\tme.props.cartItemListAction(LocalStorage.getDataByKey(\"cartItemList\"));\r\n\t\t\t\t})}}>Delete</span>\r\n\t</div>,\r\n\t     keyUnique+\"_cell_\"+Object.keys(object).length));\r\n\treturn <div key={keyUnique+\"row\"}\r\n\t\t\t\t\t\tclassName=\"row\">{cells}</div>;\r\n}\r\n\t\t\t\t\r\n  render() {\r\n\t\tvar cartItemList=this.props.cartItemList&&this.props.cartItemList.data?this.props.cartItemList.data:[];\r\n\t\tvar tableHeader=[];\r\n\t\tvar tableRows=[];\r\n\t\tvar keyUnique=0;\r\n\t\tif(cartItemList&&cartItemList.length>0){\r\n\t\t\tcartItemList.forEach(element => {\r\n\t\t\t\ttableRows.push(this.getRow(element,keyUnique));\r\n\t\t\t\tkeyUnique++;\r\n\t\t\t});\r\n\t\t\tfor (const key in cartItemList[0]) {\r\n\t\t\t\tif(key!=\"id\"){\r\n\t\t\t\t\ttableHeader.push(getCell(key,keyUnique+\"header\"));\r\n\t\t\t\t\tkeyUnique++\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttableHeader.push(getCell(\"options\",keyUnique+\"header\"));\r\n\t\t\tkeyUnique++\r\n\t\t}\r\n    return (\r\n      <div className=\"home-page\">\r\n\t\t\t<TopBar \r\n\t\t\ttitle={\"Assignment\"}\r\n\t\t\ttotalPrice={cartItemHandler.getTotalCount()}\r\n\t\t\t/>\r\n\t\t\t\t\t<div className=\"table\">\r\n\t\t\t\t\t\t<div className=\"row header\">\r\n\t\t\t\t\t\t{tableHeader}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t   {tableRows}\r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = redux => ({\r\n\tcartItemList:redux.cartItemList\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { cartItemListAction:cartItemListAction}, \r\n    dispatch \r\n  );\r\n\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage) ;\r\n\r\n\r\nfunction  getCell(data,index){\r\n\treturn  <div key={index} className=\"cell\">\r\n\t\t\t\t\t{data}\r\n\t\t\t\t</div>\r\n}\r\n\r\n\r\nfunction isDropdownRequired(key){\r\n\treturn !(key==\"size\"||key==\"color\"||key==\"quantity\");\r\n}\r\n"]},"metadata":{},"sourceType":"module"}