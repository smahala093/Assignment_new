{"ast":null,"code":"import LocalStorage from '../utils/LocalStorage';\nvar cartItemHandler = {\n  deleteCartItem: deleteCartItem,\n  getTotalCount: getTotalCount,\n  updateDataBasedOnKey: updateDataBasedOnKey\n};\nexport default cartItemHandler;\n\nfunction updateDataBasedOnKey(id, key, value, callBack) {\n  var array = LocalStorage.getDataByKey(\"cartItemList\");\n  array = array ? array : [];\n  var index = array.map(function (obj) {\n    return obj[\"id\"];\n  }).indexOf(id);\n  array[index][key] = value;\n  LocalStorage.setDataByKey(\"cartItemList\", array);\n  if (callBack) callBack();\n}\n\nfunction getTotalCount() {\n  var array = LocalStorage.getDataByKey(\"cartItemList\");\n  array = array ? array : [];\n  var totalCount = 0;\n  array.forEach(function (element, index) {\n    totalCount = totalCount + element.price * element.quantity;\n  });\n  return totalCount;\n}\n\nfunction deleteCartItem(object, callBack) {\n  var array = LocalStorage.getDataByKey(\"cartItemList\");\n  array = array ? array : [];\n  var index = array.map(function (obj) {\n    return obj[\"id\"];\n  }).indexOf(object.id);\n  array.splice(index, 1);\n  LocalStorage.setDataByKey(\"cartItemList\", array);\n  if (callBack) callBack();\n}","map":{"version":3,"sources":["C:\\Users\\smaha\\OneDrive\\Desktop\\Assignment\\apps-master\\shopping-cart\\src\\handler\\CartItemHandler.js"],"names":["LocalStorage","cartItemHandler","deleteCartItem","getTotalCount","updateDataBasedOnKey","id","key","value","callBack","array","getDataByKey","index","map","obj","indexOf","setDataByKey","totalCount","forEach","element","price","quantity","object","splice"],"mappings":"AAAA,OAAOA,YAAP,MAA0B,uBAA1B;AAGA,IAAMC,eAAe,GAAC;AACrBC,EAAAA,cAAc,EAACA,cADM;AAErBC,EAAAA,aAAa,EAACA,aAFO;AAGrBC,EAAAA,oBAAoB,EAACA;AAHA,CAAtB;AAKA,eAAeH,eAAf;;AAEA,SAAUG,oBAAV,CAA+BC,EAA/B,EAAkCC,GAAlC,EAAsCC,KAAtC,EAA4CC,QAA5C,EAAqD;AACnD,MAAIC,KAAK,GAACT,YAAY,CAACU,YAAb,CAA0B,cAA1B,CAAV;AACAD,EAAAA,KAAK,GAACA,KAAK,GAACA,KAAD,GAAO,EAAlB;AACD,MAAIE,KAAK,GAAGF,KAAK,CAACG,GAAN,CAAU,UAASC,GAAT,EAAc;AACnC,WAAOA,GAAG,CAAC,IAAD,CAAV;AACE,GAFS,EAEPC,OAFO,CAECT,EAFD,CAAZ;AAGGI,EAAAA,KAAK,CAACE,KAAD,CAAL,CAAaL,GAAb,IAAkBC,KAAlB;AACAP,EAAAA,YAAY,CAACe,YAAb,CAA0B,cAA1B,EAAyCN,KAAzC;AACF,MAAGD,QAAH,EACGA,QAAQ;AACZ;;AACD,SAAUL,aAAV,GAAyB;AACvB,MAAIM,KAAK,GAACT,YAAY,CAACU,YAAb,CAA0B,cAA1B,CAAV;AACAD,EAAAA,KAAK,GAACA,KAAK,GAACA,KAAD,GAAO,EAAlB;AACA,MAAIO,UAAU,GAAC,CAAf;AACAP,EAAAA,KAAK,CAACQ,OAAN,CAAc,UAACC,OAAD,EAASP,KAAT,EAAmB;AAC/BK,IAAAA,UAAU,GAACA,UAAU,GAACE,OAAO,CAACC,KAAR,GAAcD,OAAO,CAACE,QAA5C;AACD,GAFD;AAEI,SAAOJ,UAAP;AACL;;AACD,SAAUd,cAAV,CAAyBmB,MAAzB,EAAgCb,QAAhC,EAAyC;AACvC,MAAIC,KAAK,GAACT,YAAY,CAACU,YAAb,CAA0B,cAA1B,CAAV;AACAD,EAAAA,KAAK,GAACA,KAAK,GAACA,KAAD,GAAO,EAAlB;AACD,MAAIE,KAAK,GAAGF,KAAK,CAACG,GAAN,CAAU,UAASC,GAAT,EAAc;AACnC,WAAOA,GAAG,CAAC,IAAD,CAAV;AACE,GAFS,EAEPC,OAFO,CAECO,MAAM,CAAChB,EAFR,CAAZ;AAGGI,EAAAA,KAAK,CAACa,MAAN,CAAaX,KAAb,EAAmB,CAAnB;AACAX,EAAAA,YAAY,CAACe,YAAb,CAA0B,cAA1B,EAAyCN,KAAzC;AACF,MAAGD,QAAH,EACGA,QAAQ;AACZ","sourcesContent":["import LocalStorage from  '../utils/LocalStorage';\r\n\r\n\r\nconst cartItemHandler={\r\n deleteCartItem:deleteCartItem,\r\n getTotalCount:getTotalCount,\r\n updateDataBasedOnKey:updateDataBasedOnKey\r\n}\r\nexport default cartItemHandler;\r\n\r\nfunction  updateDataBasedOnKey(id,key,value,callBack){\r\n  var array=LocalStorage.getDataByKey(\"cartItemList\");\r\n  array=array?array:[]\r\n\tvar index = array.map(function(obj) {\r\n\t\treturn(obj[\"id\"])\r\n\t  }).indexOf(id);\r\n    array[index][key]=value;\r\n    LocalStorage.setDataByKey(\"cartItemList\",array);\r\n  if(callBack)\r\n     callBack()\r\n}\r\nfunction  getTotalCount(){\r\n  var array=LocalStorage.getDataByKey(\"cartItemList\");\r\n  array=array?array:[]\r\n  var totalCount=0;\r\n  array.forEach((element,index) => {\r\n    totalCount=totalCount+element.price*element.quantity;\r\n  }); return totalCount;\r\n}\r\nfunction  deleteCartItem(object,callBack){\r\n  var array=LocalStorage.getDataByKey(\"cartItemList\");\r\n  array=array?array:[]\r\n\tvar index = array.map(function(obj) {\r\n\t\treturn(obj[\"id\"])\r\n\t  }).indexOf(object.id);\r\n    array.splice(index,1);\r\n    LocalStorage.setDataByKey(\"cartItemList\",array)\r\n  if(callBack)\r\n     callBack()\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}